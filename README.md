# ğŸŸ SAKANA AI

Flutter Ã— Next.js Ã— ConoHa VPS ã«ã‚ˆã‚‹çµ±åˆé–‹ç™ºç’°å¢ƒ

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆæ¨å¥¨ï¼‰
```bash
git clone https://github.com/sakanahair/base.git SAKANA_AI && cd SAKANA_AI && ./setup.sh
```

30ç§’ã§é–‹ç™ºç’°å¢ƒãŒæ•´ã„ã¾ã™ï¼

## ğŸ“‹ ç›®æ¬¡

- [æ¦‚è¦](#æ¦‚è¦)
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](#ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«)
- [é–‹ç™º](#é–‹ç™º)
- [ãƒ‡ãƒ—ãƒ­ã‚¤](#ãƒ‡ãƒ—ãƒ­ã‚¤)
- [ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](#ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ)

## ğŸ¯ æ¦‚è¦

SAKANA AIã¯ã€Flutter Webã¨Next.jsã‚’çµ±åˆã—ãŸæ¬¡ä¸–ä»£ã®é–‹ç™ºç’°å¢ƒã§ã™ã€‚

### ç‰¹å¾´
- **ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ **: iOS/Android/Webå¯¾å¿œ
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæœŸ**: Mutagenã«ã‚ˆã‚‹åŒæ–¹å‘ãƒ•ã‚¡ã‚¤ãƒ«åŒæœŸ
- **è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤**: ãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰ã§ConoHa VPSã¸ãƒ‡ãƒ—ãƒ­ã‚¤
- **OSéä¾å­˜**: Mac/Ubuntuä¸¡å¯¾å¿œã®é–‹ç™ºç’°å¢ƒ

## ğŸ— ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚»ã‚¹                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Cloudflare (CDN/WAF/Cache)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      ConoHa VPS (dev.sakana.hair)          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     Nginx (Reverse Proxy)           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚            â†“            â†“                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   Next.js    â”‚  â”‚ Static Files â”‚       â”‚
â”‚  â”‚   (PM2)      â”‚  â”‚  /morishita  â”‚       â”‚
â”‚  â”‚   Port 3000  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚         â†“                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚ Flutter Web  â”‚                          â”‚
â”‚  â”‚   /app/      â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†•
        Mutagen (åŒæ–¹å‘åŒæœŸ)
                    â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒ (Mac/Ubuntu)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’» ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

### å¿…è¦ãªç’°å¢ƒ
- macOS 12+ ã¾ãŸã¯ Ubuntu 20.04+
- Git
- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆæ¥ç¶š

### è‡ªå‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆæ¨å¥¨ï¼‰

```bash
# 1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/sakanahair/base.git SAKANA_AI
cd SAKANA_AI

# 2. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ
./setup.sh

# ä»¥ä¸‹ãŒè‡ªå‹•ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã™ï¼š
# âœ… Node.js 20.x
# âœ… Flutter 3.x
# âœ… Mutagen
# âœ… å…¨ã¦ã®ä¾å­˜é–¢ä¿‚
# âœ… SSHè¨­å®š
# âœ… ç’°å¢ƒå¤‰æ•°
```

### æ‰‹å‹•ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

è©³ç´°ã¯[INSTALL.md](./doc/INSTALL.md)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ›  é–‹ç™º

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```bash
# ã™ã¹ã¦ã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•
./script/build.sh
# â†’ é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¾ã™ã‹ï¼Ÿ (y/n): y

# ã¾ãŸã¯å€‹åˆ¥ã«èµ·å‹•
cd next && npm run dev
```

### ã‚¢ã‚¯ã‚»ã‚¹URL
- ãƒ¡ã‚¤ãƒ³ã‚µã‚¤ãƒˆ: http://localhost:3000
- Flutter App: http://localhost:3000/app/
- Morishita: http://localhost:3000/morishita/

## ğŸš¢ ãƒ‡ãƒ—ãƒ­ã‚¤

### æœ¬ç•ªç’°å¢ƒã¸ã®ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# ãƒ¯ãƒ³ã‚³ãƒãƒ³ãƒ‰ã§ãƒ‡ãƒ—ãƒ­ã‚¤
./script/deploy.sh
```

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã§ä»¥ä¸‹ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ï¼š
1. Flutter Webã®ãƒ“ãƒ«ãƒ‰
2. Next.jsã®ãƒ“ãƒ«ãƒ‰ (standalone)
3. Mutagenã«ã‚ˆã‚‹ã‚µãƒ¼ãƒãƒ¼åŒæœŸ
4. PM2ã§ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å†èµ·å‹•
5. Nginxã®è¨­å®šæ›´æ–°

### æœ¬ç•ªURL
- https://dev.sakana.hair
- https://dev.sakana.hair/app/
- https://dev.sakana.hair/morishita/

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
SAKANA_AI/
â”œâ”€â”€ next/               # Next.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ app/           # App Router
â”‚   â”œâ”€â”€ public/        # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”‚   â”œâ”€â”€ app/       # Flutter Webãƒ“ãƒ«ãƒ‰
â”‚   â”‚   â””â”€â”€ morishita/ # æ£®ä¸‹ç¨ç†å£«äº‹å‹™æ‰€ã‚µã‚¤ãƒˆ
â”‚   â””â”€â”€ middleware.ts  # ãƒ‘ã‚¹ãƒªãƒ©ã‚¤ãƒˆè¨­å®š
â”œâ”€â”€ flutter/           # Flutterã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ script/            # è‡ªå‹•åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ setup.sh       # åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
â”‚   â”œâ”€â”€ build.sh       # ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ deploy.sh      # ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ sync-start.sh  # MutagenåŒæœŸé–‹å§‹
â”œâ”€â”€ config/            # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ nginx.conf     # Nginxè¨­å®š
â””â”€â”€ mutagen.yml        # MutagenåŒæœŸè¨­å®š
```

## ğŸ”§ ä¸»è¦ãªæŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ | ç”¨é€” |
|---------|------|------|
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | Next.js 15.4 | SSR/SSG, App Router |
| ãƒ¢ãƒã‚¤ãƒ«/Web | Flutter 3.x | ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  |
| ã‚µãƒ¼ãƒãƒ¼ | ConoHa VPS | Ubuntu 24.04 LTS |
| Webã‚µãƒ¼ãƒãƒ¼ | Nginx | ãƒªãƒãƒ¼ã‚¹ãƒ—ãƒ­ã‚­ã‚· |
| ãƒ—ãƒ­ã‚»ã‚¹ç®¡ç† | PM2 | Node.jsç®¡ç† |
| ãƒ•ã‚¡ã‚¤ãƒ«åŒæœŸ | Mutagen | åŒæ–¹å‘åŒæœŸ |
| SSL | Let's Encrypt | HTTPSè¨¼æ˜æ›¸ |
| CDN | Cloudflare | é…ä¿¡æœ€é©åŒ– |

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [INSTALL.md](./doc/INSTALL.md) - è©³ç´°ãªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰
- [README_SETUP.md](./doc/README_SETUP.md) - ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †
- [README_CONOHA.md](./doc/README_CONOHA.md) - ConoHa VPSè¨­å®š
- [CLAUDE.md](./doc/CLAUDE.md) - é–‹ç™ºçµŒç·¯ã¨è¨­è¨ˆæ±ºå®š

## ğŸ†˜ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

#### MutagenåŒæœŸãŒé…ã„
```bash
mutagen sync reset sakana
mutagen sync flush sakana
```

#### PM2ã§ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ãªã„
```bash
ssh root@dev.sakana
cd /var/www/sakana/next
npm install
pm2 delete sakana-next
pm2 start .next/standalone/server.js --name sakana-next
pm2 save
```

#### æ¨©é™ã‚¨ãƒ©ãƒ¼
```bash
ssh root@dev.sakana
chown -R www-data:www-data /var/www/sakana
chmod -R 755 /var/www/sakana
```

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ãƒ•ã‚©ãƒ¼ã‚¯
2. ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆ (`git checkout -b feature/AmazingFeature`)
3. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ (`git commit -m 'Add some AmazingFeature'`)
4. ãƒ–ãƒ©ãƒ³ãƒã«ãƒ—ãƒƒã‚·ãƒ¥ (`git push origin feature/AmazingFeature`)
5. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆ

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®ä¸‹ã§å…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

è³ªå•ã‚„å•é¡ŒãŒã‚ã‚‹å ´åˆã¯ã€[Issues](https://github.com/sakanahair/base/issues)ã§ãŠçŸ¥ã‚‰ã›ãã ã•ã„ã€‚

---

Built with â¤ï¸ by SAKANA AI Team